1. Install NEURON with python2.7 - see INSTALL-neuron for details

2. Get latest version of NEURON-compatible SpatialKappa:
   
   git clone https://github.com/lptolik/SpatialKappa.git
   
   Follow the SpatialKappa install instructions, including
   installation of the python interface. Make a note of the directory
   in which you installed NEURON.
   
3. Within this KappaNEURON directory:

   python2.7 setup.py install

   You can install in a different prefix too, but then you will need
   to make sure that ${PREFIX}/lib/python2.7 is in the $PYTHONPATH
   environment variable. E.g.

   PREFIX=/home/username 
   python2.7 setup.py install --prefix=${PREFIX}
   export PYTHONPATH=${PREFIX}/lib/python2.7/site-packages:$PYTHONPATH

4. Test. Note that NRNPREFIX is the directory specified when you
   installed NEURON. 

   cd test/test_ca_pulse
   ${NRNPREFIX}/x86_64/bin/nrnivmodl
   python2.7 -i test_ca_pulse.py
   compare_traces()

   Plots should appear in which the red line (generated by the
   stochastic SimulationKappa) is close to the blue line (generated by
   a deterministic simulation).

   You may need to set the PYTHONPATH using the NRNPREFIX directory in
   which NEURON was installed. e.g.:

   PYTHONPATH=${NRNPREFIX}/lib/python:${PYTHONPATH} python2.7 -i test_ca_pulse.py
